<footer>
    <div class="footer-top">
        <div class="container">
            <div class="row">
                <div class="col-sm-6 col-md-4 col-lg-4">
                    <img src="images/footer-logo.png" alt="">
                </div>
                <div class="col-sm-6 col-md-4 col-lg-4">
                    <h5>
                        <svg width="80px" height="80px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.5562 14.5477L15.1007 15.0272C15.1007 15.0272 14.0181 16.167 11.0631 13.0559C8.10812 9.94484 9.1907 8.80507 9.1907 8.80507L9.47752 8.50311C10.1841 7.75924 10.2507 6.56497 9.63424 5.6931L8.37326 3.90961C7.61028 2.8305 6.13596 2.68795 5.26145 3.60864L3.69185 5.26114C3.25823 5.71766 2.96765 6.30945 3.00289 6.96594C3.09304 8.64546 3.81071 12.259 7.81536 16.4752C12.0621 20.9462 16.0468 21.1239 17.6763 20.9631C18.1917 20.9122 18.6399 20.6343 19.0011 20.254L20.4217 18.7584C21.3806 17.7489 21.1102 16.0182 19.8833 15.312L17.9728 14.2123C17.1672 13.7486 16.1858 13.8848 15.5562 14.5477Z" fill="#1C274C" />
                            <path d="M13.2595 1.87983C13.3257 1.47094 13.7122 1.19357 14.1211 1.25976C14.1464 1.26461 14.2279 1.27983 14.2705 1.28933C14.3559 1.30834 14.4749 1.33759 14.6233 1.38082C14.9201 1.46726 15.3347 1.60967 15.8323 1.8378C16.8286 2.29456 18.1544 3.09356 19.5302 4.46936C20.906 5.84516 21.705 7.17097 22.1617 8.16725C22.3899 8.66487 22.5323 9.07947 22.6187 9.37625C22.6619 9.52466 22.6912 9.64369 22.7102 9.72901C22.7197 9.77168 22.7267 9.80594 22.7315 9.83125L22.7373 9.86245C22.8034 10.2713 22.5286 10.6739 22.1197 10.7401C21.712 10.8061 21.3279 10.53 21.2601 10.1231C21.258 10.1121 21.2522 10.0828 21.2461 10.0551C21.2337 9.9997 21.2124 9.91188 21.1786 9.79572C21.1109 9.56339 20.9934 9.21806 20.7982 8.79238C20.4084 7.94207 19.7074 6.76789 18.4695 5.53002C17.2317 4.29216 16.0575 3.59117 15.2072 3.20134C14.7815 3.00618 14.4362 2.88865 14.2038 2.82097C14.0877 2.78714 13.9417 2.75363 13.8863 2.7413C13.4793 2.67347 13.1935 2.28755 13.2595 1.87983Z" fill="#1C274C" />
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M13.4857 5.3293C13.5995 4.93102 14.0146 4.7004 14.4129 4.81419L14.2069 5.53534C14.4129 4.81419 14.4129 4.81419 14.4129 4.81419L14.4144 4.81461L14.4159 4.81505L14.4192 4.81602L14.427 4.81834L14.4468 4.8245C14.4618 4.82932 14.4807 4.8356 14.5031 4.84357C14.548 4.85951 14.6074 4.88217 14.6802 4.91337C14.8259 4.97581 15.0249 5.07223 15.2695 5.21694C15.7589 5.50662 16.4271 5.9878 17.2121 6.77277C17.9971 7.55775 18.4782 8.22593 18.7679 8.7154C18.9126 8.95991 19.009 9.15897 19.0715 9.30466C19.1027 9.37746 19.1254 9.43682 19.1413 9.48173C19.1493 9.50418 19.1555 9.52301 19.1604 9.53809L19.1665 9.55788L19.1688 9.56563L19.1698 9.56896L19.1702 9.5705C19.1702 9.5705 19.1707 9.57194 18.4495 9.77798L19.1707 9.57194C19.2845 9.97021 19.0538 10.3853 18.6556 10.4991C18.2607 10.6119 17.8492 10.3862 17.7313 9.99413L17.7276 9.98335C17.7223 9.96832 17.7113 9.93874 17.6928 9.89554C17.6558 9.8092 17.5887 9.66797 17.4771 9.47938C17.2541 9.10264 16.8514 8.53339 16.1514 7.83343C15.4515 7.13348 14.8822 6.73078 14.5055 6.50781C14.3169 6.39619 14.1757 6.32909 14.0893 6.29209C14.0461 6.27358 14.0165 6.26254 14.0015 6.25721L13.9907 6.25352C13.5987 6.13564 13.3729 5.72419 13.4857 5.3293Z" fill="#1C274C" />
                        </svg> Call us
                    </h5>
                    <p><?= $sitephone ?></p>
                </div>
                <div class="col-sm-6 col-md-4 col-lg-4">
                    <h5>
                        <svg fill="#000000" height="80px" width="80px" version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve">
                            <g>
                                <g>
                                    <path d="M16,16.8l13.8-9.2C29.2,5.5,27.3,4,25,4H7C4.7,4,2.8,5.5,2.2,7.6L16,16.8z" />
                                </g>
                                <g>
                                    <path d="M16.6,18.8C16.4,18.9,16.2,19,16,19s-0.4-0.1-0.6-0.2L2,9.9V23c0,2.8,2.2,5,5,5h18c2.8,0,5-2.2,5-5V9.9L16.6,18.8z" />
                                </g>
                            </g>
                        </svg> Email us
                    </h5>
                    <p><?= $siteemail ?></p>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-middile">
        <div class="container">
            <div class="row">
                <div class="col-md-4 col-lg-3 col-sm-6">
                    <h5>Useful Links</h5>
                    <ul>
                        <li><a href="/">Home</a></li>
                        <li><a href="about.php">About Us</a></li>
                        <li><a href="services.php">Services</a></li>
                        <li><a href="contact.php">Contact us</a></li>
                    </ul>
                </div>

                <div class="col-md-4 col-lg-2 col-sm-4">
                    <h5>Countries</h5>
                    <ul>
                        <li><a>USA</a></li>
                        <li><a>UK</a></li>
                        <li><a>Canada</a></li>
                        <li><a>Autralia</a></li>
                        <li><a>New Zeland</a></li>
                        <li><a>Europe</a></li>
                        <li><a>Bharat</a></li>
                    </ul>
                </div>
                <div class="col-md-4 col-lg-3 col-sm-6">
                </div>
                <div class="col-md-5 col-lg-4 col-sm-8">
                    <div class="newsletter-box">
                        <span><svg fill="#000000" height="80px" width="80px" version="1.2" baseProfile="tiny" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 235" xml:space="preserve">
                                <path d="M250,107.6v-0.3l-19.4-34.1v47.1l-12.2,8V7.2H37.1V128l-12.2-8V73.2L5.5,107.3v122.5H128h122.5V107.3L250,107.6z M48.8,18.9
              h157.9v117.1L128,187.7l-79.2-52V18.9z M94.7,65H68.8V39.1h25.9V65z M187.3,65h-79.8V47.6h79.8V65z M187.3,97.4H68.8V80h118.5V97.4z
               M187.3,129.9H68.8v-17.4h118.5V129.9z" />
                            </svg></span>
                        <h5>Subscribe to Newsletter</h5>
                        <p>Lorem Ipsum is simply dummy text of the printing and typesetting.</p>
                        <div class="newsleter-form">
                            <input type="text" placeholder="Enter your email">
                            <button class="submit-btn"><svg version="1.1" id="Uploaded to svgrepo.com" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="80px" height="80px" viewBox="0 0 32 32" xml:space="preserve">
                                    <style type="text/css">
                                        .puchipuchi_een {
                                            fill: #111918;
                                        }
                                    </style>
                                    <path class="puchipuchi_een" d="M30.291,2.87l-9.581,25.26c-0.39,1.029-1.346,1.234-2.123,0.456c0,0-6.036-6.036-6.586-6.586
                 s-0.359-1.631,0.425-2.403l13.316-13.11c0.784-0.772,0.711-0.856-0.163-0.187L10.588,17.784c-0.873,0.669-2.224,0.58-3.002-0.198
                 l-4.172-4.172c-0.778-0.778-0.573-1.733,0.456-2.124l25.26-9.581C30.159,1.319,30.681,1.841,30.291,2.87z M8.707,20.121
                 C8.318,19.732,8,19.864,8,20.414V25c0,0.55,0.386,0.768,0.857,0.485l2.401-1.441c0.472-0.283,0.539-0.833,0.15-1.222L8.707,20.121z" />
                                </svg></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <div class="container">
            <div class="row text-center">
                <div class="col-md-auto col-sm-12 me-auto">
                    <p>© 2024 MyStudyOffers.com All Rights Reserved.</p>
                </div>
                <div class="col-md-auto col-sm-12 me-auto ms-auto social-ic">
                    <a>
                        <svg width="80px" height="80px" viewBox="-5 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

                            <title>facebook [#176]</title>
                            <desc>Created with Sketch.</desc>
                            <defs>

                            </defs>
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Dribbble-Light-Preview" transform="translate(-385.000000, -7399.000000)" fill="#000000">
                                    <g id="icons" transform="translate(56.000000, 160.000000)">
                                        <path d="M335.821282,7259 L335.821282,7250 L338.553693,7250 L339,7246 L335.821282,7246 L335.821282,7244.052 C335.821282,7243.022 335.847593,7242 337.286884,7242 L338.744689,7242 L338.744689,7239.14 C338.744689,7239.097 337.492497,7239 336.225687,7239 C333.580004,7239 331.923407,7240.657 331.923407,7243.7 L331.923407,7246 L329,7246 L329,7250 L331.923407,7250 L331.923407,7259 L335.821282,7259 Z" id="facebook-[#176]">

                                        </path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </a>
                    <a>
                        <svg width="80px" height="80px" viewBox="0 -2 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

                            <title>twitter [#154]</title>
                            <desc>Created with Sketch.</desc>
                            <defs>

                            </defs>
                            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <g id="Dribbble-Light-Preview" transform="translate(-60.000000, -7521.000000)" fill="#000000">
                                    <g id="icons" transform="translate(56.000000, 160.000000)">
                                        <path d="M10.29,7377 C17.837,7377 21.965,7370.84365 21.965,7365.50546 C21.965,7365.33021 21.965,7365.15595 21.953,7364.98267 C22.756,7364.41163 23.449,7363.70276 24,7362.8915 C23.252,7363.21837 22.457,7363.433 21.644,7363.52751 C22.5,7363.02244 23.141,7362.2289 23.448,7361.2926 C22.642,7361.76321 21.761,7362.095 20.842,7362.27321 C19.288,7360.64674 16.689,7360.56798 15.036,7362.09796 C13.971,7363.08447 13.518,7364.55538 13.849,7365.95835 C10.55,7365.79492 7.476,7364.261 5.392,7361.73762 C4.303,7363.58363 4.86,7365.94457 6.663,7367.12996 C6.01,7367.11125 5.371,7366.93797 4.8,7366.62489 L4.8,7366.67608 C4.801,7368.5989 6.178,7370.2549 8.092,7370.63591 C7.488,7370.79836 6.854,7370.82199 6.24,7370.70483 C6.777,7372.35099 8.318,7373.47829 10.073,7373.51078 C8.62,7374.63513 6.825,7375.24554 4.977,7375.24358 C4.651,7375.24259 4.325,7375.22388 4,7375.18549 C5.877,7376.37088 8.06,7377 10.29,7376.99705" id="twitter-[#154]">

                                        </path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </a>
                    <a><svg width="80px" height="80px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M2 6C2 3.79086 3.79086 2 6 2H18C20.2091 2 22 3.79086 22 6V18C22 20.2091 20.2091 22 18 22H6C3.79086 22 2 20.2091 2 18V6ZM6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V6C20 4.89543 19.1046 4 18 4H6ZM12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12ZM17.5 8C18.3284 8 19 7.32843 19 6.5C19 5.67157 18.3284 5 17.5 5C16.6716 5 16 5.67157 16 6.5C16 7.32843 16.6716 8 17.5 8Z" fill="#000000" />
                        </svg></a>
                    <a> <svg fill="#000000" width="80px" height="80px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22.396 21.104H21.2v-.707c0-.299.298-.597.596-.597h.103c.302 0 .603.298.603.597v.707h-.106zM17.795 19.6c-.298 0-.6.2-.6.498v3.405c0 .298.205.5.6.5.301 0 .602-.202.602-.5v-3.5c-.002-.203-.301-.403-.602-.403zm7.406-1.9v6.497c0 1.604-1.402 2.803-3.003 2.803H9.797c-1.6 0-2.998-1.3-2.998-2.803V17.7c0-1.599 1.301-2.802 2.998-2.802H22.1c1.699 0 3.101 1.204 3.101 2.802zm-14.502 7.204v-6.809H12.2v-.992H8.1v.992h1.299v6.899l1.3-.09zm4.501-5.8h-1.203v4.492c0 .204-.197.301-.397.301-.101 0-.302-.097-.302-.395v-4.506h-1.3V23.8c0 .298 0 .696.301.899.602.398 1.698-.096 1.901-.697v.795h1v-5.693zm4.098 4.098V20.2c0-1.203-.901-1.899-1.998-.902v-2.299h-1.302v7.799h1.001l.104-.495c1.4 1.295 2.195.397 2.195-1.101zm3.997-.402h-.99v.703c0 .298-.205.5-.509.5h-.198c-.302 0-.494-.202-.494-.5v-1.401h2.191v-2.396c-.193-1.104-1.697-1.309-2.492-.706-.203.202-.408.405-.5.706-.103.3-.207.691-.207 1.294v1.8c0 3.096 3.5 2.705 3.199 0zm-4.9-9.801c.107.203.201.3.303.399.104.104.301.104.501.104.204 0 .298-.104.504-.203.097-.097.3-.3.396-.498v.498H21.5V7.301h-1.104v4.698c0 .301-.192.502-.494.502-.301 0-.498-.201-.498-.502V7.4h-1.198v5.101c.093.197.093.3.189.498zm-4.297-3.397c0-.6 0-1 .103-1.401.097-.3.301-.599.499-.798a1.66 1.66 0 0 1 .999-.301c.3 0 .598.098.803.2.197.101.396.3.498.498.104.203.195.401.301.603 0 .199.102.5.102.998V11c0 .602 0 .999-.102 1.202 0 .299-.104.496-.301.698a1.237 1.237 0 0 1-.498.498 1.86 1.86 0 0 1-.803.201c-.298 0-.599 0-.8-.099-.199-.103-.397-.203-.5-.399a5.108 5.108 0 0 1-.299-.703c-.102-.299-.102-.7-.102-1.197l.1-1.599zm1.102 2.397c0 .301.301.603.601.603.301 0 .596-.302.596-.603V8.798c0-.301-.295-.599-.596-.599-.3 0-.601.298-.601.599v3.201zM11.3 13.6h1.3V9.001L14.2 5h-1.503L11.9 8.001 10.999 5H9.6l1.7 4.001V13.6z" />
                        </svg></a>
                </div>
                <div class="col-md-auto col-sm-12 ms-auto">
                    <ul>
                        <li><a>Terms of Use</a></li>
                        <li><a>Privacy Policy</a></li>
                        <li><a>Discalimer</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>

<div class="modal fade register_now" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="register_form">

                            <h3>Register Now</h3>
                            <p>Enter your Details to get connected with Expert Mentors.</p>
                            <p id="registermsg"></p>
                            <form id="studentregister">
                                <div class="form-col">
                                    <label for="name">Name</label>
                                    <input type="text" name="name" id="name" placeholder="Enter your name" required>
                                </div>
                                <div class="form-col">
                                    <label for="surname">Surname</label>
                                    <input type="text" name="surname" id="surname" placeholder="Enter your Surname" required>
                                </div>
                                <div class="form-col">
                                    <label for="phone">Phone</label>
                                    <input type="text" name="phone" id="phone" placeholder="Enter your valid phone number" required>
                                </div>
                                <div class="form-col">
                                    <label for="email">Email</label>
                                    <input type="email" name="email" id="email" placeholder="Enter your valid email" required>
                                </div>
                                <div class="form-col">
                                    <label for="email">Password</label>
                                    <input type="password" name="password" id="password" placeholder="Enter your password" required>
                                </div>
                                <div class="form-col">
                                    <label for="pincode">Pincode</label>
                                    <input type="text" name="pincode" id="pincode" placeholder="Enter your pincode" required>
                                </div>
                                <div class="form-col register">
                                    <input type="checkbox" value="Terms" name="chkterms" id="chkterms">
                                    <label for="chkterms">Terms &amp; Conditions</label>
                                </div>
                                <div style="visibility:hidden; color:red" id="agree_chk_error">
                                    Can't proceed as you didn't agree to the terms!
                                </div>
                                <div class="form-col">
                                    <button type="submit" id="register" class="register-btn">REGISTER</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-md-6 d-md-block d-none ">
                        <img src="images/popup-img.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- modal end -->

<!-- Modal -->
<div class="modal fade" id="messageModal" tabindex="-1" aria-labelledby="messageModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="messageModalLabel">Alert</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                You have got new query reply(s) from MyStudyOffers.
            </div>
            <div class="modal-footer">
                <a href="queries.php" type="button" class="btn btn-primary">Go to Queries</a>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="alertModal" tabindex="-1" aria-labelledby="alertModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="alertModalLabel">Alert</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="OTPModal" tabindex="-1" aria-labelledby="OTPModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="OTPModalLabel">Verify OTP</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Please check your mobile - <span id="OTPmobile"></span></p>
                <input type="number" placeholder="Enter OTP" class="form-control" id="OTP" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary col-12" id="verifyotp">Verify</button>
                <button type="button" class="btn btn-secondary col-12" id="resendotp">Resend</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="avatarmodal" tabindex="-1" aria-labelledby="avatarModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="avatarModalLabel">Set Avatar</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body set-avtar-pos">
                <div class="chk-gender mb-4">
                    <label class="fw-bold">Gender :</label>
                    <div class="d-flex gap-1">
                        <div class="form-check">
                            <input class="form-check-input avatargender" type="radio" name="avatargender" id="maleavatar" value="male">
                            <label class="form-check-label" for="maleavatar">
                                Male
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input avatargender" type="radio" name="avatargender" id="femaleavatar" value="female">
                            <label class="form-check-label" for="femaleavatar">
                                Female
                            </label>
                        </div>
                    </div>
                </div>

                <div class="avatar-selection d-flex gap-4 align-items-center flex-wrap justify-content-center" id="avatarlist">
                    
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="save">Save</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/register.js"></script>
<script src="js/logout.js"></script>
<script>
    $(function() {
        //Make the menus active based on the file open
        let currentFilename = window.location.pathname.split('/').pop();
        $(`.sidemenu .mb-4  a[href='${currentFilename}']`).parent().addClass("active");

        //Get the number of new messages only when certain pages are open
        if (currentFilename == "dashboard.php" ||
            currentFilename == "queries.php" ||
            currentFilename == "conversation.php" ||
            currentFilename == "editprofile.php" ||
            currentFilename == "changepassword.php") 
        {
            $.get("controllers/query/getconversation.php", {
                "nums": "nums"
            }, function(data) {
                //Parse the data received from the server
                let response = JSON.parse(data);

                //If the response is not successful, then show the error in alert
                if (response.success == false) {
                    showalert(response.error)
                    if (response.login == true) {
                        window.location.href = "login.php";
                    }
                } else {
                    $(".chatnums").text(response.nums);

                    //On dashboard, show the pop up for the new messages
                    if (currentFilename == "dashboard.php" && response.nums != 0) $("#messageModal").modal("show");
                }
            });

            $.get("controllers/student/getstudentdata.php" , {} , function(data)
            {
                try
                {
                    //Parse the data received from the server
                    let response = JSON.parse(data);

                    //If the response is not successful, then show the error in alert
                    if(response.success == false)
                    {
                        showalert(response.error)
                        if(response.login == true)
                        {
                            window.location.href = "login.php";
                        }
                    }
                    else
                    {
                        let student = response.studentdata;

                        $(".name").text(student.name);
                        $(".email").text(student.email);
                        $(".phone").text(student.phone);

                        if(student.profilepic != "")
                        {
                            $(".profilepic").attr("src" , "../../studentdata/" + student.studentid + "/" + student.profilepic);
                        }

                        if(student.avatarimage != null)
                        {
                            $("#avatar").attr("src" , "admin/avatarimages/" + student.avatarimage);
                        }

                        $("#OTPmobile").text(student.phone);

                        //Remove the banner is phone is already verified
                        if(student.phoneverified == 1)
                        {
                            $(".warning-banner").remove();
                        }
                    }
                }
                catch(error)
                {
                    alert("Error occurred while trying to read server response");
                }
            });

            $("#avatar").on("click" , function()
            {
                $("#avatarmodal").modal("show");
            });

            $(".avatargender").on("click" , function()
            {
                let avatargender = $(this).val(); 

                $.get("controllers/student/getavatars.php" , {"avatargender":avatargender} , function(data)
                {
                    //Parse the data received from the server
                    let response = JSON.parse(data);
                    
                    //If the response is not successful, then show the error in alert
                    if(response.success == false)
                    {
                        showalert(response.error);
                        if(response.login == true)
                        {
                            window.location.href = "login.php";
                        }
                    }
                    else
                    {
                        $("#avatarlist").html("");
                        if(response.avatars.length == 0)
                        {
                            alert("No avatars found in this category");
                        }
                        for(let i=0; i<response.avatars.length; i++)
                        {
                            let avatar = response.avatars[i];

                            $("#avatarlist").append(`
                                <label class="avatar-item">
                                    <input type="radio" name="avatar" class="avatar-radio" value="${avatar.avatarid}" data-image="${avatar.avatarimage}">
                                    <img src="admin/avatarimages/${avatar.avatarimage}">
                                    <div class="tick-mark">✔</div>
                                </label>
                            `); 
                        }
                    }
                });
            });

            $("#save").on("click" , function()
            {
                let avatarid = $("[name='avatar']:checked").val();

                $.post("controllers/student/saveavatar.php" , {"avatarid":avatarid} , function(data)
                {
                    try
                    {
                        //Parse the data received from the server
                        let response = JSON.parse(data);

                        //If the response is not successful, then show the error in alert
                        if(response.success == false)
                        {
                            showalert(response.error);
                            if(response.login == true)
                            {
                                window.location.href = "login.php";
                            }
                        }
                        else
                        {
                            $("#avatarmodal").modal("hide");
                            $("#avatar").attr("src" , "admin/avatarimages/" + $("[name='avatar']:checked").attr("data-image"));
                        }
                    }
                    catch(error)
                    {
                        alert("Error occurred while trying to read server response");
                    }
                });
            });
        }
    });

    function showalert(message) {
        $("#alertModal .modal-body").text(message);
        $("#alertModal").modal("show");
    }

    $(document).ajaxStart(function() {
        $('.loader').show(); /* Show loader when AJAX starts */
    });

    $(document).ajaxStop(function() {
        $('.loader').hide(); /* Hide loader when AJAX completes */
    });
</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const mobileMenuToggle = document.getElementById("mobileMenuToggle");
        const sideMenu = document.querySelector(".sidemenu");

        mobileMenuToggle.addEventListener("click", function() {
            sideMenu.classList.toggle("active");
        });
    });
</script>